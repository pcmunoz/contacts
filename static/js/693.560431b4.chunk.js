"use strict";(self.webpackChunkcontacts=self.webpackChunkcontacts||[]).push([[693],{693:function(e,t,n){n.r(t);var a=n(791),c=n(250),r=n(982),i=n(885),o=n(763),s=n(948),l=n.n(s),u=n(572),m=n(413),d={id:0,name:"",email:"",contactNumber:""},h={name:"",email:"",contactNumber:""},g=RegExp(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i),x=function(e,t,n){return t.length<5?"".concat(e," must be ").concat(n," characters long!"):""},b=function(e,t,n){switch(t){case"name":e.name=x("Name",n,5);break;case"email":e.email=g.test(n)?"":"Email is not valid!";break;case"contactNumber":e.contactNumber=x("Contact Number",n,4)}return e},f=n(184),j=function(e){var t=e.currentContact,n=e.updateContact,c=e.toggleModal,r=e.mode,o=e.addContact,s=(0,a.useState)(t),l=(0,i.Z)(s,2),g=l[0],x=l[1],j=(0,a.useState)(h),p=(0,i.Z)(j,2),N=p[0],C=p[1],v=function(e){var t=e.target,n=t.name,a=t.value;C(b(N,n,a)),x((0,m.Z)((0,m.Z)({},g),{},(0,u.Z)({},n,a)))};return(0,a.useEffect)((function(){x(t),C(h)}),[t]),(0,f.jsxs)("form",{onSubmit:function(e){return function(e,t,a){e.preventDefault(),a.name&&a.email&&a.contactNumber&&function(e){return""===e.contactNumber&&""===e.email&&""===e.name}(N)&&(0===t?o(a):n(t,a),x(d),c())}(e,t.id||0,g)},children:[(0,f.jsx)("label",{children:"Name"}),(0,f.jsx)("input",{type:"text",name:"name",value:g.name,onChange:v}),N.name.length>0&&(0,f.jsx)("span",{className:"error",children:N.name}),(0,f.jsx)("label",{children:"Email"}),(0,f.jsx)("input",{type:"email",name:"email",value:g.email,onChange:v}),N.email.length>0&&(0,f.jsx)("span",{className:"error",children:N.email}),(0,f.jsx)("label",{children:"Contact Number"}),(0,f.jsx)("input",{type:"text",name:"contactNumber",value:g.contactNumber,onChange:v}),N.contactNumber.length>0&&(0,f.jsx)("span",{className:"error",children:N.contactNumber}),(0,f.jsx)("button",{children:r}),(0,f.jsx)("button",{onClick:function(){return c()},className:"button muted-button",children:"Cancel"})]})},p=n(135),N=function(e){var t=e.contacts,n=e.meta,a=e.setMeta,c=e.deleteContact,r=e.editContact,i=e.sortContacts,o=e.sort,s=e.setSort,l=e.toggleModal,u=function(e){var t=(0,f.jsx)(p.h3_,{onClick:function(){i("asc",e),s({type:"asc",field:e})}}),n=(0,f.jsx)(p.sF,{onClick:function(){i("desc",e),s({type:"desc",field:e})}}),a="asc"===o.type?n:t,c=(0,f.jsxs)(f.Fragment,{children:[t," ",n]});return e===o.field?a:c},d=n.pageNumbers.map((function(e){return(0,f.jsx)("span",{onClick:function(){a((0,m.Z)((0,m.Z)({},n),{},{currentPage:e}))},children:e},e)}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("span",{children:[" Current Sort: ","".concat(o.field," ").concat(o.type)]}),(0,f.jsxs)("table",{children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsxs)("th",{children:["Name",u("name")]}),(0,f.jsxs)("th",{children:["Email",u("email")]}),(0,f.jsxs)("th",{children:["Contact Number",u("contactNumber")]}),(0,f.jsx)("th",{children:"Actions"})]})}),(0,f.jsx)("tbody",{children:t.length>0?t.map((function(e){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:e.name}),(0,f.jsx)("td",{children:e.email}),(0,f.jsx)("td",{children:e.contactNumber}),(0,f.jsxs)("td",{children:[(0,f.jsx)("button",{className:"button muted-button",onClick:function(){r(e),l()},children:"Edit"}),(0,f.jsx)("button",{className:"button muted-button",onClick:function(){c(e.id)},children:"Delete"})]})]},e.id)})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:3,children:"No Contacts"})})}),(0,f.jsx)("tfoot",{children:(0,f.jsx)("tr",{children:(0,f.jsx)("th",{children:d})})})]})]})};l().setAppElement("#root");var C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"500px"}},v=function(e){for(var t=[],n=1;n<=Math.ceil(e/5);n++)t.push(n);return t},P=function(){var e,t=[{id:1,name:"Tania",email:"tania@mail.com",contactNumber:"123123123"},{id:2,name:"Craig",email:"craig@email.com",contactNumber:"6546456"},{id:3,name:"Ben1",email:"ben1@email.com",contactNumber:"2342134"},{id:4,name:"Ben2",email:"ben2@email.com",contactNumber:"2342234"},{id:5,name:"Ben3",email:"ben3@email.com",contactNumber:"2342334"},{id:6,name:"Ben4",email:"ben4@email.com",contactNumber:"2342434"},{id:7,name:"Ben5",email:"ben5@email.com",contactNumber:"23425 34"}],n=(0,a.useState)(t),c=(0,i.Z)(n,2),s=c[0],u=c[1],m=(0,a.useState)(t),h=(0,i.Z)(m,2),g=h[0],x=h[1],b=(0,a.useState)({type:"asc",field:"name"}),p=(0,i.Z)(b,2),P=p[0],y=p[1],S=(0,a.useState)((e=s.length,{currentPage:1,perPage:5,pageNumbers:v(e)})),Z=(0,i.Z)(S,2),k=Z[0],E=Z[1],B=(0,a.useState)(!1),M=(0,i.Z)(B,2),w=M[0],A=M[1],F=(0,a.useState)(d),R=(0,i.Z)(F,2),D=R[0],I=R[1],L=function(e){I(e)},O=function(){A(!w)},T=0===D.id?"Add Contact":"Edit Contact";return(0,a.useEffect)((function(){var e=v(s.length),t=k.currentPage;e[e.length-1]<k.currentPage&&(t=e[e.length-1]),E({perPage:5,currentPage:t,pageNumbers:e})}),[s.length,k.currentPage]),(0,a.useEffect)((function(){var e=k.currentPage*k.perPage,t=(k.currentPage-1)*k.perPage,n=e<s.length?k.currentPage*k.perPage:s.length,a=k.pageNumbers[k.pageNumbers.length-1],c=k.currentPage===a?s.length-(s.length-t):n-k.perPage;x(s.slice(c,n))}),[k,s]),(0,f.jsxs)("div",{className:"container",children:[(0,f.jsx)("h1",{children:"Contacts"}),(0,f.jsxs)("div",{className:"flex-row",children:[(0,f.jsxs)(l(),{isOpen:w,style:C,contentLabel:T,children:[(0,f.jsx)("h2",{children:T}),(0,f.jsx)(j,{currentContact:D,addContact:function(e){e.id=s.length+1,u((0,o.orderBy)([].concat((0,r.Z)(s),[e]),[P.field],[P.type]))},updateContact:function(e,t){u(s.map((function(n){return n.id===e?t:n})))},toggleModal:O,mode:T})]}),(0,f.jsxs)("div",{className:"flex-large",children:[(0,f.jsx)("h2",{children:"View Contacts"}),(0,f.jsx)("button",{onClick:function(){L(d),O()},children:"Add Contact"}),(0,f.jsx)(N,{contacts:g,meta:k,setMeta:E,sortContacts:function(e,t){var n=(0,o.orderBy)(s,[t],[e]);u(n)},editContact:L,deleteContact:function(e){u(s.filter((function(t){return t.id!==e})))},sort:P,setSort:y,toggleModal:O})]})]})]})},y=function(){return(0,f.jsx)(P,{})};c.createRoot(document.getElementById("root")).render((0,f.jsx)(a.StrictMode,{children:(0,f.jsx)(y,{})}))}}]);
//# sourceMappingURL=693.560431b4.chunk.js.map